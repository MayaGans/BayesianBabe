---
title: A Phish Sankey Diagram
author: Maya Gans
date: '2020-04-05'
slug: a-phish-sankey-diagram
categories:
  - Tutorial
tags: []
subtitle: ''
summary: ''
authors: []
lastmod: '2020-04-05T17:22:17-07:00'
featured: no
image:
  caption: ''
  focal_point: ''
  preview_only: no
projects: []
---

<script src="/rmarkdown-libs/htmlwidgets/htmlwidgets.js"></script>
<script src="/rmarkdown-libs/d3/d3.min.js"></script>
<script src="/rmarkdown-libs/sankey/sankey.js"></script>
<script src="/rmarkdown-libs/sankeyNetwork-binding/sankeyNetwork.js"></script>


<style>
.article-container {
    max-width: 100%;
    padding: 0 3px;
    margin: 0 auto;
}
</style>
<p>Whenever Phish plays <code>Mike's Song</code>, they generally also play <code>Weekapaug Groove</code>. I wanted to explore the songs that they play in the middle of these two songs using a Sankey Diagram.</p>
<p>The width of the songs corresponds to the number of times that song pattern occurred. For instance, I am Hydrogen is the thickest connector of Mike’s Song and Weekapaug. We also have interesting patterns shown by the dashed lines where a song is played, then goes <em>back</em> into Mike’s Song or a prior song, before heading eventually to Weekapaug. Feel free to zoom in and move around songs to explore the data!</p>
<pre><code>## 
## Attaching package: &#39;dplyr&#39;</code></pre>
<pre><code>## The following objects are masked from &#39;package:stats&#39;:
## 
##     filter, lag</code></pre>
<pre><code>## The following objects are masked from &#39;package:base&#39;:
## 
##     intersect, setdiff, setequal, union</code></pre>
<pre><code>## 
## Attaching package: &#39;igraph&#39;</code></pre>
<pre><code>## The following objects are masked from &#39;package:dplyr&#39;:
## 
##     as_data_frame, groups, union</code></pre>
<pre><code>## The following objects are masked from &#39;package:purrr&#39;:
## 
##     compose, simplify</code></pre>
<pre><code>## The following objects are masked from &#39;package:stats&#39;:
## 
##     decompose, spectrum</code></pre>
<pre><code>## The following object is masked from &#39;package:base&#39;:
## 
##     union</code></pre>
<pre><code>## ── Attaching packages ──────────────────────────────────────────── tidyverse 1.3.0 ──</code></pre>
<pre><code>## ✓ ggplot2 3.3.0     ✓ readr   1.3.1
## ✓ tibble  3.0.0     ✓ stringr 1.4.0
## ✓ tidyr   1.0.2     ✓ forcats 0.4.0</code></pre>
<pre><code>## ── Conflicts ─────────────────────────────────────────────── tidyverse_conflicts() ──
## x tibble::as_data_frame() masks igraph::as_data_frame(), dplyr::as_data_frame()
## x igraph::compose()       masks purrr::compose()
## x tidyr::crossing()       masks igraph::crossing()
## x dplyr::filter()         masks stats::filter()
## x igraph::groups()        masks dplyr::groups()
## x dplyr::lag()            masks stats::lag()
## x igraph::simplify()      masks purrr::simplify()</code></pre>
<div id="htmlwidget-1" style="width:1100px;height:700px;" class="sankeyNetwork html-widget"></div>
<script type="application/json" data-for="htmlwidget-1">{"x":{"links":{"source":[0,1,2,3,3,4,4,4,4,4,5,6,7,8,8,8,9,9,10,11,12,13,13,14,14,15,16,17,18,19,20,20,21,22,23,23,24,24,24,24,24,25,26,27,27,28,29,30,30,31,32,33,34,35,36,37,38,39,40,40,40,41,42,42,42,43,44,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,46,47,48,49,50,51,52,53,53,53,54,55,56,57,58,59,59,60,61,62,62,63,63,63,63,63,63,63,63,63,63,63,64,64,65,66,66,67,68,69,70,71,72,72,72,73,74,75,76,77,78,78,79,80,81,82,83,84,85,85,85,86,87],"target":[88,88,75,30,88,10,29,53,61,88,30,20,88,2,4,88,70,88,84,32,88,32,88,24,85,66,58,88,88,59,77,88,78,40,60,77,16,50,53,71,88,88,46,37,88,70,34,5,88,17,88,88,88,88,88,27,88,88,32,76,88,88,48,72,88,3,88,0,1,3,7,8,9,11,12,13,14,15,17,18,19,20,22,23,24,25,31,32,35,38,39,40,42,43,47,50,51,52,53,55,56,57,62,63,64,66,67,69,70,72,73,74,79,80,88,85,86,88,88,42,88,88,68,13,4,54,81,88,88,88,88,83,78,88,49,59,44,88,4,9,21,24,33,35,40,42,64,88,87,65,88,88,36,88,1,85,27,62,88,23,24,88,88,14,28,18,88,24,26,88,41,88,88,88,88,6,66,88,82,88],"value":[1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,2,1,1,1,1,1,1,2,2,1,1,1,1,1,1,1,1,1,1,1,4,1,1,1,1,1,1,1,1,1,31,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,4,1,1,2,1,1,1,1,1,1,1,1,1,3,1,1,28,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,15,2,2,1,1,1,3,1,1,1,1,1,1,1,1,1,1,1,3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3,3,1,1,1,1,1,1,1,1,3,1,1,2,1,1,3,1,1,1,3,1,1,2,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1]},"nodes":{"name":["46 Days","Ass Handed","Axilla","Back on the Train","Backwards Down the Number Line","Bike","Bittersweet Motel","Blaze On","Bouncing Around the Room","Bug","Carini","Chalk Dust Torture","Contact","Crosseyed and Painless","Devotion To a Dream","Dirt","Everything's Right","Farmhouse","Fast Enough for You","Fee","Fluffhead","Free","Fuck Your Face","Fuego","Ghost","Glide II","Gotta Jibboo","Harpua","Harry Hood","Heavy Things","Hold Your Head Up","Horn","I Am Hydrogen","I Am the Walrus","If I Could","Joy","Julius","Killing in the Name","Legalize It","Lifeboy","Light","Limb By Limb","Makisupa Policeman","McGrupp and the Watchful Hosemasters","Mexican Cousin","Mike's Song","Miss You","Mound","Night Nurse","No Men In No Man's Land","No Quarter","O Holy Night","Piper","Prince Caspian","Rock and Roll","Runaway Jim","Sanity","Secret Smile","Set Your Soul Free","Seven Below","Shade","Show of Life","Silent in the Morning","Simple","Slave to the Traffic Light","Sleeping Monkey","Sneakin' Sally Through the Alley","Sparkle","Taste","Tela","The Horse","The Mango Song","The Wedge","Theme From the Bottom","Tide Turns","Tweezer","Twenty Years Later","Twist","Waiting All Night","Walk Away","Water in the Sky","Waves","What's the Use?","When the Circus Comes","Wilson","Wingsuit","Winterqueen","Wolfman's Brother","Weekapaug Groove"],"group":["a","a","a","a","a","a","a","a","a","a","a","a","a","a","a","a","a","a","a","a","a","a","a","a","a","a","a","a","a","a","a","a","a","a","a","a","a","a","a","a","a","a","a","a","a","b","a","a","a","a","a","a","a","a","a","a","a","a","a","a","a","a","a","a","a","a","a","a","a","a","a","a","a","a","a","a","a","a","a","a","a","a","a","a","a","a","a","a","b"]},"options":{"NodeID":"name","NodeGroup":"group","LinkGroup":null,"colourScale":"d3.scaleOrdinal() .domain([\"a\", \"b\"]) .range([\"#913C73\", \"#B1D152\"])","fontSize":7,"fontFamily":null,"nodeWidth":15,"nodePadding":10,"units":"","margin":{"top":null,"right":null,"bottom":null,"left":null},"iterations":32,"sinksRight":true}},"evals":[],"jsHooks":[]}</script>
